
<div class="content">
    <div class="gg-container">
      <div class="grid grid-cols-6 col-span-2   gap-2  ">
        
        <div class=" overflow-hidden rounded-xl col-span-3 max-h-[14rem] gg-box">
          <img class="h-full w-full object-cover"
               src="https://images.unsplash.com/photo-1517487881594-2787fef5ebf7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=735&q=80"
               alt="">
        </div>
        <div class=" overflow-hidden rounded-xl col-span-3 max-h-[14rem] gg-box">
          <img class="h-full w-full object-cover"
               src="https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1399&q=80"
               alt="">
        </div>
        <div class=" overflow-hidden rounded-xl col-span-2 max-h-[10rem] gg-box">
          <img class="h-full w-full object-cover"
               src="https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470&q=80"
               alt="">
        </div>
        <div class=" overflow-hidden rounded-xl col-span-2 max-h-[10rem] gg-box">
          <img class="h-full w-full object-cover"
               src="https://images.unsplash.com/photo-1503602642458-232111445657?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=687&q=80"
               alt="">
        </div>

        <div class="relative overflow-hidden rounded-xl col-span-2 max-h-[10rem]">
          <div
              class="text-white text-xl absolute inset-0  bg-slate-900/80 flex justify-center items-center">
            + 23
          </div>
          <img class="h-full w-full object-cover gg-box"
               src="https://images.unsplash.com/photo-1560393464-5c69a73c5770?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=765&q=80"
               alt="">
        </div>
      </div>
      <!-- <h3>Default</h3>
      <div class="gg-box">
        <img src="/assets/1.jpg">
        <img src="/assets/2.jpg">
        <img src="/assets/3.jpg">
        <img src="/assets/4.jpg">
        <img src="/assets/5.jpg">
        <img src="/assets/6.jpg">
        <img src="/assets/7.jpg">
        <img src="/assets/8.jpg">
        <img src="/assets/9.jpg">
        <img src="/assets/10.jpg">
        <img src="/assets/11.jpg">
        <img src="/assets/12.jpg">
        <img src="/assets/13.jpg">
        <img src="/assets/14.jpg">
      </div>
      <h3>Dark Mode</h3>
      <div class="gg-box dark">
        <img src="/assets/13.jpg">
        <img src="/assets/14.jpg">
        <img src="/assets/15.jpg">
        <img src="/assets/16.jpg">
        <img src="/assets/17.jpg">
        <img src="/assets/18.jpg">
      </div>
      <h3>Horizontal Layout</h3>
      <div class="gg-box dark" id="horizontal">
        <img src="/assets/1.jpg">
        <img src="/assets/2.jpg">
        <img src="/assets/3.jpg">
        <img src="/assets/4.jpg">
        <img src="/assets/5.jpg">
        <img src="/assets/6.jpg">
      </div>
      <h3>Square Layout</h3>
      <div class="gg-box dark" id="square">
        <img src="/assets/11.jpg">
        <img src="/assets/12.jpg">
        <img src="/assets/13.jpg">
        <img src="/assets/14.jpg">
        <img src="/assets/15.jpg">
        <img src="/assets/16.jpg">
        <img src="/assets/17.jpg">
        <img src="/assets/18.jpg">
      </div>
      <h3>Customized Gap</h3>
      <p>Gap between images with value of 10px</p>
      <div class="gg-box" id="gap">
        <img src="/assets/6.jpg">
        <img src="/assets/7.jpg">
        <img src="/assets/8.jpg">
        <img src="/assets/9.jpg">
        <img src="/assets/10.jpg">
        <img src="/assets/11.jpg">
      </div>
      <h3>Row Height and Column Width</h3>
      <p>Row height with value of 180px and column width with value of 280px</p>
      <div class="gg-box dark" id="heightWidth">
        <img src="/assets/13.jpg">
        <img src="/assets/14.jpg">
        <img src="/assets/15.jpg">
        <img src="/assets/16.jpg">
        <img src="/assets/17.jpg">
        <img src="/assets/18.jpg">
      </div> -->
    </div>
  </div>

<style is:global>
  .gg-container {
    --main-color: #000;
    --secondary-color: #111;
    --txt-color: #fff;
    --img-bg-color: rgba(240, 240, 240, 0.9);
    --backdrop-color: rgba(240, 240, 240, 0.9);
    --gap-length: 2px;
    --row-height: 200px;
    --column-width: 220px;
  }

  .gg-container *[data-theme="dark"] {
    --main-color: #ddd;
    --secondary-color: #eee;
    --txt-color: #111;
    --img-bg-color: rgba(20, 20, 20, 0.9);
    --backdrop-color: rgba(30, 30, 30, 0.9);
  }

  /* .gg-box {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--column-width), 1fr));
    grid-auto-rows: var(--row-height);
    grid-gap: var(--gap-length);
    margin: 20px 0;
  }

  .gg-box img {
    object-fit: cover;
    cursor: pointer;
    width: 100%;
    height: 100%;
    background: var(--img-bg-color);
  } */

  .gg-box img:hover {
    opacity: 0.98;
  }

  #gg-screen {
    position: fixed;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    background: var(--backdrop-color);
    z-index: 9999;
    text-align: center;
  }

  #gg-screen .gg-image {
    height: 100%;
    display: inline-flex;
    justify-content: center;
    align-items: center;
  }

  #gg-screen .gg-image img {
    max-width: 100%;
    max-height: 100%;
    margin: 0 auto;
  }

  .gg-btn {
    width: 35px;
    height: 35px;
    background: var(--main-color);
    color: var(--txt-color);
    text-align: center;
    line-height: 35px;
    cursor: pointer;
    -moz-transition: all 0.4s ease;
    -o-transition: all 0.4s ease;
    -webkit-transition: all 0.4s ease;
    transition: all 0.4s ease;
    font-size: 20px;
    box-sizing: border-box;
    padding-left: 2px;
    position: fixed;
    bottom: 10px;
  }

  .gg-btn:hover {
    background: var(--secondary-color);
  }

  .gg-close {
    top: 10px;
  }

  .gg-close,
  .gg-next {
    right: 10px;
  }

  .gg-prev {
    right: 50px;
  }

  .gg-prev,
  .gg-next {
    bottom: 10px;
  }

  @media (min-width: 478px) {
    .gg-box img:nth-child(2n):not(:last-of-type) {
      grid-row-end: span 2;
    }

    [data-layout="horizontal"] img:nth-child(2n):not(:last-of-type) {
      grid-column-end: span 2;
      grid-row-end: span 1;
    }

    [data-layout="square"] img:nth-child(2n):not(:last-of-type) {
      grid-row-end: span 1;
      grid-column-end: span 1;
    }
  }

  @media (max-width: 768px) {
    .gg-box {
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      grid-auto-rows: calc(var(--row-height) - 15vh);
      margin: 10px 0;
    }
  }

  @media (max-width: 450px) {
    .gg-box {
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    }
  }
</style>

<script is:inline>
  const root = document.querySelector("body, html");
  const container = document.querySelector(".gg-container");
  const images = document.querySelectorAll(".gg-box > img");
  const l = images.length;

  for (var i = 0; i < l; i++) {
    images[i].addEventListener("click", function (i) {
      var currentImg = this;
      const parentItem = currentImg.parentElement,
        screenItem = document.createElement("div");
      screenItem.id = "gg-screen";
      container.prepend(screenItem);
      if (parentItem.hasAttribute("data-theme"))
        screenItem.setAttribute("data-theme", "dark");
      var route = currentImg.src;
      root.style.overflow = "hidden";
      screenItem.innerHTML =
        '<div class="gg-image"></div><div class="gg-close gg-btn">&times</div><div class="gg-next gg-btn">&rarr;</div><div class="gg-prev gg-btn">&larr;</div>';
      const first = images[0].src,
        last = images[l - 1].src;
      const imgItem = document.querySelector(".gg-image"),
        prevBtn = document.querySelector(".gg-prev"),
        nextBtn = document.querySelector(".gg-next"),
        close = document.querySelector(".gg-close");
      imgItem.innerHTML = '<img src="' + route + '">';

      if (l > 1) {
        if (route == first) {
          prevBtn.hidden = true;
          var prevImg = false;
          var nextImg = currentImg.nextElementSibling;
        } else if (route == last) {
          nextBtn.hidden = true;
          var nextImg = false;
          var prevImg = currentImg.previousElementSibling;
        } else {
          var prevImg = currentImg.previousElementSibling;
          var nextImg = currentImg.nextElementSibling;
        }
      } else {
        prevBtn.hidden = true;
        nextBtn.hidden = true;
      }

      screenItem.addEventListener("click", function (e) {
        if (e.target == this || e.target == close) hide();
      });

      root.addEventListener("keydown", function (e) {
        if (e.keyCode == 37 || e.keyCode == 38) prev();
        if (e.keyCode == 39 || e.keyCode == 40) next();
        if (e.keyCode == 27) hide();
      });

      prevBtn.addEventListener("click", prev);
      nextBtn.addEventListener("click", next);

      function prev() {
        var parentDiv=currentImg.previousSibling.parentElement;
        var previousImgDiv= parentDiv.previousElementSibling;
        prevImg = previousImgDiv.lastElementChild;
        imgItem.innerHTML = '<img src="' + prevImg.src + '">';
        currentImg = previousImgDiv.lastElementChild;
        var mainImg = document.querySelector(".gg-image > img").src;
        nextBtn.hidden = false;
        prevBtn.hidden = mainImg === first;
      }
      
      // function prev() {
      //   prevImg = currentImg.previousElementSibling;
      //   imgItem.innerHTML = '<img src="' + prevImg.src + '">';
      //   currentImg = currentImg.previousElementSibling;
      //   var mainImg = document.querySelector(".gg-image > img").src;
      //   nextBtn.hidden = false;
      //   prevBtn.hidden = mainImg === first;
      // }

      // function next() {
      //   nextImg = currentImg.nextElementSibling;
      //   imgItem.innerHTML = '<img src="' + nextImg.src + '">';
      //   currentImg = currentImg.nextElementSibling;
      //   var mainImg = document.querySelector(".gg-image > img").src;
      //   prevBtn.hidden = false;
      //   nextBtn.hidden = mainImg === last;
      // }

      function next() {
        var parentDiv=currentImg.nextSibling.parentElement;
        var nextImgDiv= parentDiv.nextElementSibling;
        console.log(parentDiv);
        console.log(nextImgDiv);
        nextImg = nextImgDiv.lastElementChild;
        imgItem.innerHTML = '<img src="' + nextImg.src + '">';
        currentImg = nextImgDiv.lastElementChild;
        var mainImg = document.querySelector(".gg-image > img").src;
        prevBtn.hidden = false;
        nextBtn.hidden = mainImg === last;
      }


      function hide() {
        root.style.overflow = "auto";
        screenItem.remove();
      }
    });
  }

  function gridGallery(options) {
    console.log(selector);
    if (options.selector) selector = document.querySelector(options.selector);
    if (options.darkMode) selector.setAttribute("data-theme", "dark");
    if (options.layout == "horizontal" || options.layout == "square")
      selector.setAttribute("data-layout", options.layout);
    if (options.gaplength)
      selector.style.setProperty("--gap-length", options.gaplength + "px");
    if (options.rowHeight)
      selector.style.setProperty("--row-height", options.rowHeight + "px");
    if (options.columnWidth)
      selector.style.setProperty("--column-width", options.columnWidth + "px");
  }
</script>

<script is:inline>
    gridGallery({
      selector: ".dark",
      darkMode: true
    });
    gridGallery({
      selector: "#horizontal",
      layout: "horizontal"
    });
    gridGallery({
      selector: "#square",
      layout: "square"
    });
    gridGallery({
      selector: "#gap",
      gaplength: 10
    });
    gridGallery({
      selector: "#heightWidth",
      rowHeight: 180,
      columnWidth: 280
    });
    </script>